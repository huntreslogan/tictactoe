"use strict";angular.module("ticTacToeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"TicTacToeCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("ticTacToeApp").controller("TicTacToeCtrl",["$scope","TicTacToeGame","AI",function(a,b,c){var d=function(c){b.gameWon(c)?a.winner=c,a.tie=null:b.checkTie(b.gimmeBoard())&&!a.winner&&(a.tie="It is a tie game.")},e=function(c,e){a.winner||(b.moveAt(c,e),d(c))};a.move=function(a){""===b.fillAt(a)&&(e("X",a),e("O",c.findMove(b.gimmeBoard())))},a.newGame=function(){b.newGame(),a.winner=null,a.tie=null},a.fillAt=function(a){return b.fillAt(a)}}]),angular.module("ticTacToeApp").factory("TicTacToeGame",function(){var a=function(){return["","","","","","","","",""]},b=a(),c=function(a){return b[a]},d=function(a,b){return c(a[0])===b&&c(a[1])===b&&c(a[2])===b&&""!==c(a[0])};return{fillAt:c,moveAt:function(a,c){b[c]=a},newGame:function(){b=a()},gameWon:function(a){for(var b=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]],c=0;c<b.length;c++)if(d(b[c],a))return!0;return!1},checkTie:function(a){for(var b=0;b<a.length;b++)if(""===a[b])return!1;return!0},gimmeBoard:function(){return console.log(b),b}}}),angular.module("ticTacToeApp").factory("AI",["TicTacToeGame","BaseCase",function(a,b){var c="X",d="O";return{cloneBoard:function(a){return a.slice(0)},makeMove:function(a,b,c){var d=this.cloneBoard(c);return""===d[a]?(d[a]=b,d):null},minValue:function(a){if(b.checkWinner(d,a))return 1;if(b.checkWinner(c,a))return-1;if(b.checkTie(a))return 0;for(var e=100,f=0,g=0;g<a.length;g++){var h=this.makeMove(g,c,a);if(h){var i=this.maxValue(h);e>i&&(e=i,f=g)}}return e},maxValue:function(a){if(b.checkWinner(d,a))return 1;if(b.checkWinner(c,a))return-1;if(b.checkTie(a))return 0;for(var e=-100,f=0,g=0;g<a.length;g++){var h=this.makeMove(g,d,a);if(h){var i=this.minValue(h);i>e&&(e=i,f=g)}}return e},findMove:function(a){for(var b=-100,c=0,e=0;e<a.length;e++){var f=this.makeMove(e,d,a);if(f){var g=this.minValue(f,d);g>b&&(b=g,c=e)}}return console.log(c),c}}}]),angular.module("ticTacToeApp").factory("BaseCase",function(){return{checkWinner:function(a,b){return b[0]===a&&b[1]===a&&b[2]===a||b[3]===a&&b[4]===a&&b[5]===a||b[6]===a&&b[7]===a&&b[8]===a||b[0]===a&&b[3]===a&&b[6]===a||b[1]===a&&b[4]===a&&b[7]===a||b[2]===a&&b[5]===a&&b[8]===a||b[0]===a&&b[4]===a&&b[8]===a||b[2]===a&&b[4]===a&&b[6]===a?!0:!1},checkTie:function(a){for(var b=0;b<a.length;b++)if(""===a[b])return!1;return!0}}});