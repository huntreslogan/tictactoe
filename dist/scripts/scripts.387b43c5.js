"use strict";angular.module("ticTacToeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"TicTacToeCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("ticTacToeApp").controller("TicTacToeCtrl",["$scope","Board","AI","GameOver",function(a,b,c,d){var e=function(){return b.gimmeBoard()},f=function(b){var c=e();d.checkWinner(b,c)?(a.winner=b,a.isDisabled=!0,a.letsPlay="go-time"):d.checkTie(c)&&!a.winner&&(a.tie="It is a tie game.",a.letsPlay="go-time")},g=function(b,c){var d=e();a.winner||(d[c]=b,f(b))};a.move=function(a){var d=e();""===b.fillAt(a)&&(g("X",a),g("O",c.findMove(d)))},a.newGame=function(){b.newGame(),a.winner=null,a.tie=null,a.letsPlay=""},a.fillAt=function(a){return b.fillAt(a)}}]),angular.module("ticTacToeApp").factory("Board",function(){var a=function(){return["","","","","","","","",""]},b=a();return{fillAt:function(a){return b[a]},newGame:function(){b=a()},gimmeBoard:function(){return console.log(b),b}}}),angular.module("ticTacToeApp").factory("AI",["GameOver",function(a){var b="X",c="O";return{cloneBoard:function(a){return a.slice(0)},makeMove:function(a,b,c){var d=this.cloneBoard(c);return""===d[a]?(d[a]=b,d):null},minValue:function(d){if(a.checkWinner(c,d))return 1;if(a.checkWinner(b,d))return-1;if(a.checkTie(d))return 0;for(var e=100,f=0,g=0;g<d.length;g++){var h=this.makeMove(g,b,d);if(h){var i=this.maxValue(h);e>i&&(e=i,f=g)}}return e},maxValue:function(d){if(a.checkWinner(c,d))return 1;if(a.checkWinner(b,d))return-1;if(a.checkTie(d))return 0;for(var e=-100,f=0,g=0;g<d.length;g++){var h=this.makeMove(g,c,d);if(h){var i=this.minValue(h);i>e&&(e=i,f=g)}}return e},findMove:function(a){for(var b=-100,d=0,e=0;e<a.length;e++){var f=this.makeMove(e,c,a);if(f){var g=this.minValue(f,c);g>b&&(b=g,d=e)}}return d}}}]),angular.module("ticTacToeApp").factory("GameOver",function(){return{checkWinner:function(a,b){return b[0]===a&&b[1]===a&&b[2]===a||b[3]===a&&b[4]===a&&b[5]===a||b[6]===a&&b[7]===a&&b[8]===a||b[0]===a&&b[3]===a&&b[6]===a||b[1]===a&&b[4]===a&&b[7]===a||b[2]===a&&b[5]===a&&b[8]===a||b[0]===a&&b[4]===a&&b[8]===a||b[2]===a&&b[4]===a&&b[6]===a?!0:!1},checkTie:function(a){for(var b=0;b<a.length;b++)if(""===a[b])return!1;return!0}}});